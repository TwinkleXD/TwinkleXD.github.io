---
title: 值传递和引用传递
category:
  - [JavaScript]
mathjax: true
toc: true
date: 2023-03-01 13:36:23
tags:
  - JavaScript
  - note
description: 有关内存空间形式与变量传递的总结和理解
permalink:
sticky:
---
# 内存空间：堆和栈
JS的内存空间分为 堆和栈 两个区域，解析器会先判断变量类型，根据变量类型，将变量放到不同的内存空间中。
# 数据存放
基本数据类型（String, Number, Boolean, Null, Undefined, Symbol）都会分配栈区。栈中存放的简单数据段，数据大小确定，内存空间大小可以分配。按值存放，所以可以按值访问。
引用数据类型（Object）的变量都放到堆区。它在栈内存中保存的实际上是对象在堆内存中的引用地址，通过这个引用地址可以快速查找到保存在堆内存中的对象。存放在堆内存中的对象，每个空间大小不一样，要根据情况进行特定的配置。
# 内存空间特点
栈区：空间小，数据类型简单，读写速度快，一般由JS引擎自动释放
堆区：空间大，数据类型复杂，读写速度稍慢，当对象不在被引用是，才会被周期性的回收
# 变量传递
在JS的变量传递中，本质上都可以看成是值传递，只是这个值可能是基础数据类型，也可能是一个引用地址，即引用传递。JS中比较特殊，不能直接操作对象的内存空间，必须通过指针（引用）来访问。
# 参数传递
- 函数参数为基本数据类型时，函数体内赋值了一份参数值，任何操作都不会影响原参数的实际值；
- 函数参数是引用类型时，当函数体内修改这个值的某个属性时，将会对原来的参数进行修改；
- 函数参数是引用类型时，如果直接修改这个值的引用地址，则相当于在函数体内创建了一个新的引用，任何操作都不会影响原参数的实际值。
